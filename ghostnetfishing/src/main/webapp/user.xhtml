<ui:composition template="snippets/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:define name="content">


<div class="container mt-3 mb-3">

<div class="row">
<div class="col-9">
<h2>User backend</h2>

<p:outputPanel rendered="#{loginBean.role eq 1}">
<h2>Marked as missing</h2>

<p:dataTable class="table" value="#{ghostNetBean.getAllGhostNets(4)}" var="ghostNet">
<p:column headerText="ID">
<h:outputText value="#{ghostNet.id}" />
</p:column>
 <p:column headerText="Latitude">
<h:outputText value="#{ghostNet.posLatitude}" />
</p:column>
 <p:column headerText="Longitude">
<h:outputText value="#{ghostNet.posLongitude}" />
</p:column>
 <p:column headerText="Size">
<h:outputText value="#{ghostNet.sizeLabel}" />
</p:column>
 <p:column headerText="Status">
<h:outputText value="#{ghostNet.statusCodeLabel}" />
</p:column>
 <p:column headerText="Reported">
<h:outputText value="#{ghostNet.timeLeftSinceReportTimestamp} ago" />
</p:column>
<p:column headerText="Actions">
<h:form>
<h:commandButton class="btn btn-secondary mt-2" value="Mark as missing" action="#{ghostNet.setStatusToPremarkedAsMissing}" rendered="#{ghostNet.statusCode ne 4 and ghostNet.statusCode ne 5}" />
</h:form>
</p:column>
</p:dataTable>
</p:outputPanel>

</div>

<div class="col-3">
<p:outputPanel rendered="#{loginBean.isLoggedIn}">
<h2>User details</h2>

<div class="card" style="border:none;">
  
  <p:outputPanel rendered="#{loginBean.role eq 1}">
  <img class="card-img-top" src="./assets/static/images/userrole_admin_01.png"/>
  </p:outputPanel>
  
  <p:outputPanel rendered="#{loginBean.role eq 2}">
  <img class="card-img-top" src="./assets/static/images/userrole_hunter_02.png"/>
  </p:outputPanel>
  
  <p:outputPanel rendered="#{loginBean.role eq 4}">
  <img class="card-img-top" src="./assets/static/images/userrole_reporter_04.png"/>
  </p:outputPanel>
  
  
  <div class="card-body">
    <h5 class="card-title"><h:outputText value="#{loginBean.roleLabel}"/></h5>
  </div>
  
  <ul class="list-group list-group-flush">
    <li class="list-group-item">User name: <h:outputText value="#{loginBean.username}"/></li>
    <li class="list-group-item">Firs tname: <h:outputText value="#{loginBean.firstname}"/></li>
    <li class="list-group-item">Last name: <h:outputText value="#{loginBean.lastname}"/></li>
    <li class="list-group-item">Phone number: <h:outputText value="#{loginBean.phonenumber}"/></li>
  </ul>
</div>

</p:outputPanel>
</div>

</div>
</div>

</ui:define>

</ui:composition>